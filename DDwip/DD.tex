\documentclass{article}
\usepackage{float}
\usepackage{graphicx} % Required for inserting images with \includegraphics command.
\usepackage[hidelinks]{hyperref} % Required in order to use in-page links in the table of contents
                                 % Option "hidelinks" used to hide links border in some pdf reader such as Acrobat Reader.

%Package imported in order to customize cells in tabularx environment. In particular was
%added to allow the use of "\\" syntax inside a table's cell.
\usepackage{makecell}

%Packages and instruction to change scale of sections', subsections' and subsubsections' heads
\usepackage{titlesec}
\usepackage{titlesec}
%Makes sections' contents in bold, and increases their sizes.
\titleformat*{\section}{\Huge\bfseries}
%Same thing as above but for subsections
\titleformat*{\subsection}{\LARGE\bfseries}
%Same thing as above but for subsubsections
\titleformat*{\subsubsection}{\Large\bfseries}

%Instruction used to create a new subsection level (subsubsubsection) in the document
\titleclass{\subsubsubsection}{straight}[\subsection]
%Instructions used to create a new counter (used to count the number of subsubsubsections
%within a subsubsection) for the subsubsubsections and creation of the command to invoke(use) them
\newcounter{subsubsubsection}[subsubsection]
\renewcommand\thesubsubsubsection{\thesubsubsection.\arabic{subsubsubsection}}

%Instruction used to align the new section layer in a correct manner in the table of contents
%Without this subsubsubsections would remain on the same line, creating a mess in the table of
%contents.
\makeatletter

%Instructions to change the scale and font of the subsubsubsections' head
\titleformat{\subsubsubsection}
  {\normalfont\large\bfseries}{\thesubsubsubsection}{1em}{}
\titlespacing*{\subsubsubsection}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

%Instructions to create the subsubsubsections entries in the table of contents (included the dot line)
\def\toclevel@subsubsubsection{4}
\def\l@subsubsubsection{\@dottedtocline{4}{7em}{4em}}

%Instruction used to restore "@" symbol to "other" instead of a "latter" made by
%\makeatletter command. Just a safety command useful for latex but not of our interest.
\makeatother

%Instructions to set table of contents and sections depth to 4 layers (in order to include even
%subsubsubsections).
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}

%Used in order to have more symbols for itemize lists (in our case the "arrow" symbol in phenomena section)
\usepackage{pifont}

%Used to make the header and footer of each document page
\usepackage{fancyhdr}

%Defines a new style of header and footer
%Defines the content of the header and the footer of the pages of the first section
\fancypagestyle{IntroductionStyle}{
\fancyhf{}
\fancyhead[L]{\textit{\textbf{SECTION 1. INTRODUCTION}}}
\fancyfoot[L]{CKB \quad - \quad \textbf{R}equirements \textbf{A}nalysis \textbf{S}pecifications \textbf{D}ocument}
\rfoot{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
}
%Defines the content of the header and the footer of the pages of the second section
\fancypagestyle{OverallDescriptionStyle}{
\fancyhf{}
\fancyhead[L]{\textit{\textbf{SECTION 2. ARCHITECTURAL DESIGN}}}
\fancyfoot[L]{CKB \quad - \quad \textbf{R}equirements \textbf{A}nalysis \textbf{S}pecifications \textbf{D}ocument}
\rfoot{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
}
%Defines the content of the header and the footer of the pages of the third section
\fancypagestyle{SpecificRequirementsStyle}{
\fancyhf{}
\fancyhead[L]{\textit{\textbf{SECTION 3. USER INTERFACE DESING}}}
\fancyfoot[L]{CKB \quad - \quad \textbf{R}equirements \textbf{A}nalysis \textbf{S}pecifications \textbf{D}ocument}
\rfoot{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
}
%Defines the content of the header and the footer of the pages of the fourth section
\fancypagestyle{FormalAnalysisAlloyStyle}{
\fancyhf{}
\fancyhead[L]{\textit{\textbf{SECTION 4. REQUIREMENTS TRACEABILITY}}}
\fancyfoot[L]{CKB \quad - \quad \textbf{R}equirements \textbf{A}nalysis \textbf{S}pecifications \textbf{D}ocument}
\rfoot{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
}
%Defines the content of the header and the footer of the pages of the fifth section
\fancypagestyle{EffortSpentStyle}{
\fancyhf{}
\fancyhead[L]{\textit{\textbf{SECTION 5. IMPLEMENTATION, INTEGRATION, TEST PLAN}}}
\fancyfoot[L]{CKB \quad - \quad \textbf{R}equirements \textbf{A}nalysis \textbf{S}pecifications \textbf{D}ocument}
\rfoot{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
}
%Defines the content of the header and the footer of the pages of the sixth section
\fancypagestyle{ReferencesStyle}{
\fancyhf{}
\fancyhead[L]{\textit{\textbf{SECTION 6. EFFORT SPENT}}}
\fancyfoot[L]{CKB \quad - \quad \textbf{R}equirements \textbf{A}nalysis \textbf{S}pecifications \textbf{D}ocument}
\rfoot{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
}
%Defines the content of the header and the footer of the pages of the seventh section
\fancypagestyle{ReferencesStyle}{
\fancyhf{}
\fancyhead[L]{\textit{\textbf{SECTION 7. REFERENCES}}}
\fancyfoot[L]{CKB \quad - \quad \textbf{R}equirements \textbf{A}nalysis \textbf{S}pecifications \textbf{D}ocument}
\rfoot{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
}

%Used to handle table width and split tables across different pages
\usepackage{xltabular}
%Change space between table columns
\setlength{\tabcolsep}{18pt}

%Command used to create a new column type whose background is lightgray colored
\usepackage{xcolor,colortbl}
\definecolor{LightGray}{gray}{0.85}
\newcolumntype{g}{>{\columncolor{LightGray}}c}


%Set the default path of images (used in includegraphics command)
\graphicspath{ {images/} }

\title{DD-v0.1}
\author{Francesco Spangaro - Tosetti Luca - Francesco Riccardi}
\date{07 January 2024}

\begin{document}

\maketitle

\begin{figure}[h]
    \centering
    \includegraphics[scale=0.5]{politecnico-di-milano-logo.png}
\end{figure}

\tableofcontents

\newpage
\pagestyle{IntroductionStyle}

\section{Introduction}
\subsection{Purpose}
The purpose of this document is to provide an exhausting and implementative
description of the platform that will be implemented (CKB platform).
In particular the document is focused on the description of the architectural styles and decisions
that will be adopted, the modules that compose the platform and their interfaces.
The document will contains also several details regarding the deployment choices,
the runtime view of the core functionalites of the platform that will be used in it.
The document contains some mockups of the user interface design.
The document also covers the implementation, integration and testing
processes required to implement correctly the CKB platform.
\subsection{Scope}
CodeKataBattle (CKB) is a platform which aims to give to Educators an easy-to-use experience, and let
them propose homework and/or lessons in a new and fresh way.
The main goal of the platform is to give the Students the possibility to improve and acquire new software
developing skills by particpating to several battles in as many tournaments.
The platform let Educators of the Students to create such tournaments and battles within them
in order to challenge the Students to upload the best possible solution to the battle's
problem. That solution will be then automatically evaluated by the platform which will give it a score,
and eventually even by the Educator who created the battle, and will be associated to it a proper score.
The platform also allow Educators to add several recognition badges for the work done by the students.
This badges can be personalized by the Educators themselves.
\\ \\
From the architectural point of view we have decided to adopt a 4-Tier Client-Server architecture combined
with a MSA server side, in addition to a MVC software architectural choice.
\subsection{Definitions, acronyms, abbreviations}
\subsubsection{Definitions}
{\renewcommand{\arraystretch}{1.5}
%\textwidth used to set table's width according to text's width of the page
%">{\raggedright\arraybackslash} c" used to align to the right the column c
%"X" column tag creates a paragraph-like column whose width automatically expands so that the declared width of the environment is filled
\begin{xltabular}{\textwidth}{ >{\raggedright\arraybackslash}c >{\raggedright\arraybackslash}X }
    \hline
    \textbf{Term} & \textbf{Definition} \\
    \hline

    \endfirsthead   %Everything above is used as "head" (first row) of
    %the table in the page where it is placed

    \hline
    \textbf{Term} & \textbf{Definition} \\
    \hline

    \endhead    %Everything above is used as "head" (first row) of the
    %splitted parts of the table in the pages different from
    %the one in which the table was originally placed

    \endfoot    %Everything above is used as "foot" (last row) of the
    %splitted parts of the table in the pages different from
    %the last one in which the table appear

    \endlastfoot    %Everything above is used as "foot" (last row) of the
    %table in the page where it appears last.

    \textit{4-Tier Architecture} & $\rightarrow$ A 4-Tier architecture in the field of informatic systems, very simply
    a software and hardware architecture in which a running application/platform is divided in four different modules
    or also called "layers" which usually are: Presentation Layer, WebServer layer, Logic Layer, Data Layer. \\
    \textit{Presentation Layer} & $\rightarrow$ The top layer of the 4-Tier architecture. It takes care of the interaction
    between the user and the application.\\
    \textit{WebServer Layer} & $\rightarrow$ The second layer of the 4-Tier architecture. It takes care of handling the requests
    sent by the users throught a browser application.
    \textit{Logic Layer} & $\rightarrow$ The third layer of the 4-Tier architecture. It takes care of implementing the real
    application logic that allows to the application/platform to actually work. \\
    \textit{Data Layer} & $\rightarrow$ The bottom layer of the 4-Tier architecture. It takes care of all the data generated
    by the users or the application, and with which the application itself has to interact. The interactions
    can include queries, updates, deletions, ... \\
    \textit{Microservice architecture} & $\rightarrow$ An architectural style that consist in the creation of an
    application/platform as a suite of small services, each one handling a part of the business logic of the application
    and that comunicates with each other throught lightweight protocols (such as HTTP). \\
    \textit{Model-View-Controller} & $\rightarrow$ An architectural pattern used to develop the
    software logic of an application. This pattern consist in dividing the application in three
    different parts: View, Model and Controller. \\
    \textit{View} & $\rightarrow$ Part of the MVC pattern which takes care of the visualization of the
    data contained in the model and the interaction with the user. \\
    \textit{Controller} & $\rightarrow$ Part of the MVC pattern that receives commands from the user, and execute them
    by modifying the View and/or Model parts. \\
    \textit{Model} & $\rightarrow$ Part of the MVC pattern that gives to the Controller part, the
    methods to access the application's data and to modify them.
\end{xltabular}

\subsubsection{Acronyms}
\begin{xltabular}{\textwidth}{ >{\raggedright\arraybackslash}c >{\raggedright\arraybackslash}X }
    \hline
    \textbf{Acronym} & \textbf{Meaning} \\
    \hline

    \endfirsthead

    \hline
    \textbf{Acronym} & \textbf{Meaning} \\
    \hline

    \endhead
    \endfoot
    \endlastfoot

    \textit{MSA} & $\rightarrow$ MicroServices Architecture\\
    \textit{MVC} & $\rightarrow$ Model-View-Controller\\
    \textit{RASD} & $\rightarrow$ Requirement Analysis and Specification Document\\
    \textit{DD} & $\rightarrow$ Design Document\\
    \textit{CKB} & $\rightarrow$ CodeKataBattle\\
    \textit{} & $\rightarrow$ \\
\end{xltabular}


\subsubsection{Abbreviations}
\begin{xltabular}{\textwidth}{ >{\raggedright\arraybackslash}c >{\raggedright\arraybackslash}X }
    \hline
    \textbf{Abbreviation} & \textbf{Meaning} \\
    \hline

    \endfirsthead

    \hline
    \textbf{Abbreviation} & \textbf{Meaning} \\
    \hline

    \endhead
    \endfoot
    \endlastfoot

    \textit{e.g.} & $\rightarrow$ Exempli gratia, latin phrase meaning "for example".
    \\
    \textit{} & $\rightarrow$
    \\
    \textit{} & $\rightarrow$
    \\
    \textit{} & $\rightarrow$
    \\
    \textit{} & $\rightarrow$
    \\
\end{xltabular}
\subsection{Revision history}
\begin{itemize}
    \item **Placeholder data**: version 1.0
\end{itemize}

\subsection{Reference documents}
UML official specification $\rightarrow$ \url{https://www.omg.org/spec/UML}
\\ \\
Sequence diagrams specification $\rightarrow$ \url{https://www.uml-diagrams.org/sequence-diagrams.html}
\\ \\
Component diagrams specification $\rightarrow$ \url{https://creately.com/blog/software-teams/component-diagram-tutorial/}
\\ \\
Deployment diagrams specification $\rightarrow$ \url{https://pubs.opengroup.org/architecture/archimate32-doc.singlepage/}
\subsection{Document structure}
\begin{itemize}
    \item \textbf{\textit{Section 1: Introduction}} \\
          This section offers a brief description of the problem and the platform/application that will be developed in order to resolve it.
          It describes the major purpose of this document, a very brief recap of the domain which is
          described in detail in the RASD document.
          In addition, in this section are inserted definitions, acronyms and abbreviations used in the document,
          its revision history and refereced documents or web pages.
    \item \textbf{\textit{Section 2: Architectural Design}} \\
          This section is the main part of the document. It describes the architectures used to
          realize the platform, the CKB platform's components, its interfaces, its deployment
          structure and finally its runtime behaviour.
          All these aspects are described through several diagrams such as:
          component diagrams, class diagrams, deployment diagrams and other
          generic diagrams which are used to give a representation of main and most important
          features of the platform.
    \item \textbf{\textit{Section 3: User interface design}} \\
          This section describes the user interface design of the platform.
          It contains several mockups of the interface that the Educators and
          Students will find when they access to the platform. The presented mockups
          refers to the client-side experience throught an appropriate browser application.
    \item \textbf{\textit{Section 4: Requirements traceability}} \\
          This section describe the connection between the RASD and DD document,
          by providing a complete map of the requirements and goals expressed in the RASD
          to the modules presented in this document.
    \item \textbf{\textit{Section 5: Implementation, Integration \& Test plan}} \\
          This section describes the plan followed for implementing, testing and
          integrating the platform's components, the order in which
          these operations are performed and what they generate.
    \item \textbf{\textit{Section 6: Effort spent}} \\
          This section contains all the information about the time spent by each group member
          in order to complete this document and its division by each section of the document.
\end{itemize}
\section{Architectural Design}
    \subsection{Overview: High-level components and interactions}
    To ensure high maintainability, security and reliability, the service is structured by following the four-tier architecture model.
    Figure 1. shows how the tiers are divided, and what are the relations between each tier of the system.
    \begin{figure}[H]
        \centering
        \includegraphics[scale=0.35]{images/FourTierApplication.png}
        \caption{Four-tier architecture}
        \label{fig:Figure 1}
    \end{figure}
    The main components are:
    \textbf{Web Application:} The web application allows users to connect to the platform's services. The web application can be accessed by any device
    that is connected to the internet and can browse the web. Students and Educators will have different views of the web application, because they have
    different parameters that they can view and manage. \\
    \textbf{Web Server:} The web server is what manages the web application. It is connected directly to the GitHub Platform to give Educators the possibility
    of seeing their Students' uploaded solutions. It is connected to the GitHub platform to also give Students the possibility of seeing their 
    solutions uploaded to the platform in real time. It is the main container for the JavaScript and general backend code for the platform.
    The web server is connected to the Application server because it needs to be automatically updated when new grades for Students' solutions are generated
    by the platform. \\
    \textbf{Application Server:} The application server is the main backend of the CKB Platform. It contains all the code needed for th eplatform to run 
    smoothly and without interruptions. It contains the logic needed to answer the API requests made by the users to the platform. It 
    automatically evaluates Students' solutions proposed via the GitHub platform and uploads the new grade to the web server. \\
    \textbf{DBMS:} The DBMS is the main interpreter between the CKB platform and the data stored onto the database. \\
    \textbf{DataBase:} The database stores all the information needed by the application. \\
    \textbf{External Services:} These services provide informations and funtionalities that the CKB platform alone could not provide.
    These funtionalities include a \textit{GitHub actions API} that notifies the platform of the upload of a new Student's solution, a \textit{notification API}
    that notify Students when a new tournament or a new battle in a tournament they are subscribed to is created and a connection to the \textit{GitHub platform}
    since the code needs to be uploaded from the GitHub platform to the CKB platform automatically. \\
    \subsection{Component view}
    \subsection{Deployment view}
    \subsection{Component interfaces}
    \subsection{Runtime view}
    \subsection{Selected architectural styles and patterns}
    \subsection{Other design decisions}
\section{User Interface Design}
\section{Requirements traceability}
\section{Implementation, Integration \& Test plan}
\section{Effort Spent}
\section{References}




\end{document}
